% --------------------------
% ---- DECLARE PACKAGES ----
% --------------------------
\documentclass[a4paper, oneside, openright]{book}
\usepackage[T1]{fontenc} % Font encoding, T1 = it
\usepackage{lmodern}
\usepackage{multicol} % Per il frontespizio
\usepackage[utf8]{inputenc} % Input encoding - per caratteri particolari
\usepackage[english]{babel} % Lingua principale italiano, con parti in inglese
\usepackage{blindtext} % Per la generazione di paragrafi lorem ipsum
\usepackage{graphicx} % Per includere immagini esterne
\usepackage[a4paper,top=2.5cm,bottom=2.5cm,left=3cm,right=3cm]{geometry} %impaginazione e margini documento
\usepackage[fontsize=12pt]{scrextend} %dimensione font
\usepackage{graphicx}
\usepackage[parfill]{parskip} % Disabilita l'indentazione dopo essere andati a capo
% \usepackage[hang,flushmargin]{footmisc} % Disabilita l'indentazione nelle footnotes
\usepackage{titlesec}
\usepackage{float}
\usepackage[font=scriptsize, skip=5pt]{caption} % Spazio tra la caption e l'immagine
\usepackage[backend=biber, style=numeric, backref=true,defernumbers=true]{biblatex}
\usepackage[immediate]{silence}
\WarningFilter[temp]{latex}{Command} % silence the warning
\usepackage{sectsty}
\DeactivateWarningFilters[temp] % So nothing unrelated gets silenced
\usepackage{hyperref} % Rende l'indice cliccabile
\usepackage[justification=centering]{caption} % Per centrare le captions
\usepackage[bottom]{footmisc} % Posiziona le footnotes alla fine della pagina
\usepackage{tikz}
\usepackage{forest}
\usepackage{tabularx}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{lastpage}
\usetikzlibrary{
  positioning,
  quotes,
  arrows.meta,
  calc,
  automata,
  positioning,
  decorations.pathreplacing,
  tikzmark
}
\usepackage{enumerate, mdwlist}
\usepackage{fancyhdr}
\usepackage{amsthm}
\usepackage{amsmath,amssymb}
\usepackage{minted}
\usepackage{verbatim}
\usepackage{cleveref}
\usepackage{xspace}
\usepackage{enumitem}
\usepackage{subcaption}

% Algorithms
\usepackage{algorithm}
\usepackage{algpseudocode}

\usepackage{csquotes}
\usepackage[most]{tcolorbox}

\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}
\newtheorem{claim}{Claim}
\newtheorem{theorem}{Theorem}

\crefname{claim}{Claim}{Claims}
\crefname{lemma}{Lemma}{Lemmas}
\crefname{theorem}{Theorem}{Theorems}
\crefname{definition}{Definition}{Definitions}
\crefname{algorithm}{Algorithm}{Algorithms}
\crefname{table}{Table}{Tables}
\crefname{figure}{Figure}{Figures}
\crefname{section}{Section}{Sections}
\crefname{subsection}{Subsection}{Subsections}
\crefname{chapter}{Chapter}{Chapters}

\newcommand{\draft}[1]{{\color{red}{#1}}}
\newcommand{\rem}[1]{{\draft{\sout{#1}}}}
\newcommand{\alessio}[1]{{\color[HTML]{34aa15}{\bf{Alessio:}} #1}}
\newcommand{\davide}[1]{{\color{blue}{\bf{Davide T.:}} #1}}

\newcommand{\equivset}{\mathcal{C}}
\newcommand{\equivsetfunc}[1]{\equivset(#1)}

\newcommand{\sourceset}{\mathcal{S}}
\newcommand{\destset}{\mathcal{D}}
\newcommand{\treeset}[1]{\mathcal{T}_{#1}}

% example environment - REPLACE your current definition
\newcounter{example}[chapter]  % Reset per chapter
\renewcommand{\theexample}{\thechapter.\arabic{example}}
\def\exampletext{Example}

\NewDocumentEnvironment{example}{ O{} }
{
\refstepcounter{example}  % This makes labels work properly
\colorlet{colexam}{red!55!black}
\newtcolorbox{examplebox}{% Remove the counter from here
    empty,
    title={\exampletext~\theexample: #1},% Use \theexample instead of \thetcbcounter
    attach boxed title to top left,
    minipage boxed title,
    boxed title style={empty,size=minimal,toprule=0pt,top=4pt,left=3mm,overlay={}},
    coltitle=colexam,fonttitle=\bfseries,
    before=\par\medskip\noindent,parbox=false,boxsep=0pt,left=3mm,right=0mm,top=2pt,breakable,pad at break=0mm,
    before upper=\csname @totalleftmargin\endcsname0pt,
    overlay unbroken={\draw[colexam,line width=.5pt] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
    overlay first={\draw[colexam,line width=.5pt] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
    overlay middle={\draw[colexam,line width=.5pt] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },
    overlay last={\draw[colexam,line width=.5pt] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },
}
\begin{examplebox}}
{\end{examplebox}\endlist}

% Standard cleveref setup
\crefname{example}{Example}{Examples}
\Crefname{example}{Example}{Examples}

% ------------------------
% ---- DOCUMENT SETUP ----
% ------------------------
\pagestyle{plain}
\setlength{\headheight}{20pt}

\raggedbottom % Se la pagina non Ã¨ completa, lascia lo spazio alla fine

\titleformat{\chapter}[display]
    {\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{10pt}{\LARGE}
\titlespacing*{\chapter}{0pt}{0pt}{20pt}
\chaptertitlefont{\fontsize{22pt}{30pt}\selectfont}

\hypersetup{ % Setup dell'aspetto dei link
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

% \renewcommand{\footnoterule}{ % Rende la linea delle footnotes larga tutta la pagina
%   \kern -3pt
%   \hrule width \textwidth height 1pt
%   \kern 2pt
% } 
\renewcommand{\footnotesize}{\fontsize{11pt}{13pt}\selectfont} % Imposta la dimensione del testo delle footnotes
\setlength{\footnotesep}{0.5cm} % Imposta lo spazio fra e singole footnotes
\setlength{\skip\footins}{1.5cm} % Imposta lo spazio fra il corpo e le footnotes

\usepackage[normalem]{ulem}


\DeclareUnicodeCharacter{02BC}{}

% ------------------------
% ---- DOCUMENT START ----
% ------------------------
\addbibresource{bibliography.bib} % Importiamo la bibliografia
\begin{document}
\pagenumbering{roman} 
\input{frontespizio.tex} % PAGINA FRONTESPIZIO
\newpage
\
\newpage
\input{Abstract.tex} % PAGINA ABSTRACT
\newpage
\

\tableofcontents  % Genera l'indice
% \addcontentsline{toc}{chapter}{\listfigurename}
% \listoffigures
\newpage % Nuova pagna

\fancypagestyle{IHA-fancy-style}{%
  \fancyhf{}% Clear header and footer
  %\fancyhead[LE,RO]{\slshape \rightmark}
  \fancyhead[R]{\slshape \leftmark}
  \fancyfoot[C]{\thepage\ of \pageref{LastPage}}% Custom footer
  \renewcommand{\headrulewidth}{0.4pt}% Line at the header visible
  %\renewcommand{\footrulewidth}{0.4pt}% Line at the footer visible
}

% Redefine the plain page style
\fancypagestyle{plain}{%
  \fancyhf{}%
  \fancyfoot[C]{\thepage\ of \pageref{LastPage}}%
  \renewcommand{\headrulewidth}{0pt}% Line at the header invisible
  \renewcommand{\footrulewidth}{0pt}% Line at the footer visible
}

\pagestyle{IHA-fancy-style}

\pagenumbering{arabic} % Riabilita la numerazione in modo che cominci dal primo capitolo
\setcounter{chapter}{0} % Fa risultare l'introduzione come capitolo 0
% ------------------
% ---- CHAPTERS ----
% ------------------
\input{Capitoli/Introduction.tex}
\newpage
\
\newpage
\chapter{Preliminary Concepts}
\input{Capitoli/notation.tex}
\input{Capitoli/thbgLabeledTrees.tex}
\input{Capitoli/XBWT/Introduzione}
\input{Capitoli/XBWT/XBWT.tex}
\input{Capitoli/XBWT/Implementation.tex}
\input{Capitoli/XBWT/ExperimentsAndConclusions.tex}
\input{Capitoli/HopcroftClasses.tex}
\input{Capitoli/wheelerAndPsortable.tex}
\input{Capitoli/minWeigthPerfectBipartiteMatching.tex}
\newpage
\
\newpage
\input{Capitoli/ProjectIntroduction.tex}
\input{Capitoli/Reduction.tex}
\input{Capitoli/Collapsing.tex}
\newpage
\
\newpage
\input{Capitoli/Experiments.tex}
\newpage
\
% ----------------------
% ---- BIBLIOGRAPHY ----
% ----------------------
\backmatter
\sloppy % serve a non fare andare i link oltre ai margini
\printbibliography[heading=bibintoc, title=Bibliography]
\printbibliography[type=online, heading=bibintoc, title=Web bibliography]
% ----------------------
% ---- DOCUMENT END ----
% ----------------------
\end{document} % Fine documento
